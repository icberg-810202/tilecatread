# 密码要求修改说明

## 📝 修改内容

### 修改时间
2025-10-24

### 修改原因
降低密码强度要求，提升用户体验。

## 🔐 密码要求变更

### 之前的要求
- ✅ 必须包含字母
- ✅ 必须包含数字
- ❌ 长度不少于 **8位**

### 现在的要求
- ✅ 必须包含字母
- ✅ 必须包含数字
- ✅ 长度不少于 **6位**

## 📊 修改文件

### 1. script-supabase.js（Supabase版本）

修改了以下位置：

| 功能 | 行号 | 修改内容 |
|------|------|---------|
| 密码强度检查 | L408 | `password.length >= 6` |
| 注册页密码提示 | L447 | "密码长度必须至少为6位" |
| 重置密码提示 | L489 | "密码长度必须至少为6位" |
| 注册验证 | L607 | "密码长度必须至少为6位" |
| 修改密码验证 | L937 | "密码长度必须至少为6位" |

### 2. script.js（本地版本）

修改了以下位置：

| 功能 | 行号 | 修改内容 |
|------|------|---------|
| 密码强度检查 | L15 | `password.length >= 6` |
| 密码提示 | L56 | "密码长度必须至少为6位" |
| 注册验证 | L756 | "密码长度必须至少为6位" |

## ✅ 验证示例

### 有效密码（6位）
```
✅ abc123  - 包含字母和数字，长度6位
✅ pass12  - 包含字母和数字，长度6位
✅ 1a2b3c  - 包含字母和数字，长度6位
```

### 无效密码
```
❌ abc12   - 只有5位，太短
❌ abcdef  - 只有字母，没有数字
❌ 123456  - 只有数字，没有字母
```

### 强密码示例（推荐）
```
⭐ abc123xyz  - 包含字母和数字，长度9位
⭐ pass1234   - 包含字母和数字，长度8位
⭐ myPwd123  - 包含大小写字母和数字
```

## 🎯 密码强度分级

### 弱（不符合要求）
- 长度 < 6位
- 仅包含字母或数字

### 中（符合基本要求）
- 长度 6-7位
- 包含字母和数字

### 强（推荐使用）
- 长度 ≥ 8位
- 包含字母和数字
- 包含大小写字母
- 包含特殊字符

## 📱 用户界面变化

### 注册页面
- 密码输入框下方的提示：**"密码长度必须至少为6位"**
- 密码强度指示器会在6位时显示"符合基本要求"

### 登录页面
- 无变化，接受所有已注册的密码

### 忘记密码页面
- 新密码要求：**"密码长度必须至少为6位"**
- 密码强度实时显示

## 🧪 测试用例

### 测试1：注册新用户
```
手机号: 13800138000
密码: abc123
确认密码: abc123
预期结果: ✅ 注册成功
```

### 测试2：密码太短
```
手机号: 13800138001
密码: abc12
预期结果: ❌ 提示"密码长度必须至少为6位"
```

### 测试3：只有字母
```
手机号: 13800138002
密码: abcdef
预期结果: ❌ 提示"密码必须同时包含字母和数字"
```

### 测试4：只有数字
```
手机号: 13800138003
密码: 123456
预期结果: ❌ 提示"密码必须同时包含字母和数字"
```

### 测试5：修改密码
```
旧密码: abc123
新密码: pass12
确认新密码: pass12
预期结果: ✅ 修改成功
```

## ⚠️ 兼容性说明

### 已注册用户
- **无影响**：已注册的用户（包括8位及以上密码的用户）可以正常登录
- 旧密码依然有效

### 新注册用户
- 可以使用6位密码注册
- 建议使用8位以上密码以提高安全性

## 🔄 回滚方案

如果需要恢复到8位密码要求，修改以下内容：

```javascript
// 在 script-supabase.js 和 script.js 中
// 将所有 password.length >= 6 改回 password.length >= 8
// 将所有 "密码长度必须至少为6位" 改回 "密码长度必须至少为8位"
```

## 📝 注意事项

1. **安全性提醒**
   - 6位密码相比8位密码安全性降低
   - 建议在用户界面提示使用更长的密码

2. **用户体验**
   - 降低了注册门槛
   - 更容易记忆密码

3. **数据库兼容**
   - Supabase 数据库无需修改
   - 本地存储无需修改
   - 密码验证逻辑已更新

## ✅ 修改完成

所有密码长度检查已从8位修改为6位，修改内容已生效。
